import streamlit as st
from PIL import Image
import pandas as pd
from urllib.request import Request, urlopen
import datetime
import time

#####
#####
# Functions
#####
#####

#####
#####
# Main Script
#####
#####

###
# Preload
###
img = Image.open('images/aicenter.jpg')

###
# Title section
###
st.set_page_config(page_title='About this site')
hide_menu_style = """
      <style>
      #MainMenu {visibility: hidden;}
      </style>
      """
st.markdown(hide_menu_style, unsafe_allow_html=True)
st.title('このサイトについて')
st.write('About this site @tmoriics')
st.image(img, caption='AI Center of the University of Tokyo', use_column_width=False)
st.markdown('### 現在の状態：')
st.text('2022-07-14T20:41 version')
st.markdown('## アプリの機能：')
st.text('排尿日誌の認識とそれに基づく指標演算を行います。')


###
# Progress bar
###
# st.write('Progress bar')
# 'Start!'
# latest_iteration = st.empty()
# bar = st.progress(0)
# for i in range(100):
#     latest_iteration.text(f'Iteration {i+1}')
#     bar.progress(i +1)
#     time.sleep(0.05)
# 'Done!' 
bar = st.progress(0)
frame_text = st.empty()
for i in range(100):
    bar.progress(i)
    frame_text.text("%i/100" % (i + 1))
    time.sleep(0.05)
frame_text.text("Now you can proceed.")
time.sleep(0.5)
bar.empty()
frame_text.empty()


###
# COVID-19
###
# """
# ## COVID-19
# """
# dt_now = datetime.datetime.now()
# st.text('今日' + dt_now.strftime('%Y年%m月%d日 %H:%M:%S'+'まで'))
# st.markdown('## 集計情報：PCR検査陽性者数（単日調査）')
# df = pd.read_csv('https://covid19.mhlw.go.jp/public/opendata/
# newly_confirmed_cases_daily.csv',
#                 parse_dates=True, index_col=0)
# df = df.agg(['sum', 'mean', 'max', 'min'])
# df = df.rename(index={'sum': '合計',
#                       'mean': '平均',
#                       'max': '最大',
#                       'min': '最小'})
# st.table(df)

